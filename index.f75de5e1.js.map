{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst start = document.querySelector('.start');\nconst rows = document.querySelectorAll('.field-row');\nconst gameScoreField = document.querySelector('.game-score');\nconst messages = document.querySelectorAll('.message');\nlet tempRowIndex = Math.floor(Math.random() * 4);\nlet tempColIndex = Math.floor(Math.random() * 4);\nconst gameSize = 4;\nlet splitCounter = 0;\nlet gameScore = 0;\nconst game = [\n  ['', '', '', ''],\n  ['', '', '', ''],\n  ['', '', '', ''],\n  ['', '', '', ''],\n];\n\nstart.addEventListener('click', e => {\n  for (let row = 0; row < game.length; row++) {\n    for (let col = 0; col < game[row].length; col++) {\n      game[row][col] = '';\n      rows[row].children[col].className = '';\n      rows[row].children[col].classList.add('field-cell');\n      start.textContent = 'Re start';\n    }\n  }\n\n  start.classList.add('restart');\n  game[Math.floor(Math.random() * 4)][Math.floor(Math.random() * 4)] = 2;\n\n  while (game[tempRowIndex][tempColIndex] !== '') {\n    tempRowIndex = Math.floor(Math.random() * 4);\n    tempColIndex = Math.floor(Math.random() * 4);\n  };\n\n  game[Math.floor(Math.random() * 4)][Math.floor(Math.random() * 4)] = 2;\n\n  for (let i = 0; i < game.length; i++) {\n    for (let j = 0; j < game[i].length; j++) {\n      rows[i].children[j].textContent = game[i][j];\n\n      if (game[i][j] !== '') {\n        rows[i].children[j].classList.add(`field-cell--${game[i][j]}`);\n      }\n    }\n  }\n\n  for (let i = 0; i < messages.length; i++) {\n    if (messages[i].classList.contains('message-start')) {\n      messages[i].classList.add('hidden');\n    }\n\n    if (messages[i].classList.contains('message-lose')) {\n      messages[i].classList.add('hidden');\n    }\n  }\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'ArrowRight') {\n    game.forEach((item, mainIndex, array) => {\n      const digits = item.map(element => {\n        if (element === '') {\n          return 0;\n        } else {\n          return element;\n        }\n      });\n\n      digits.sort((a, b) => {\n        if (a === 0 && b !== 0) {\n          splitCounter++;\n\n          return -1;\n        }\n\n        if (a !== 0 && b === 0) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      for (let firstIndex = digits.length - 1; firstIndex > 0; firstIndex--) {\n        if (digits[firstIndex] === digits[firstIndex - 1]\n          && digits[firstIndex] !== 0) {\n          digits[firstIndex] += digits[firstIndex - 1];\n          gameScore += digits[firstIndex];\n          digits[firstIndex - 1] = 0;\n          splitCounter++;\n          rows[mainIndex].children[firstIndex].textContent = digits[firstIndex];\n        };\n\n        if (digits[firstIndex] === 0) {\n          digits[firstIndex] = digits[firstIndex - 1];\n          digits[firstIndex - 1] = 0;\n        };\n      }\n\n      for (let index = 0; index < item.length; index++) {\n        if (digits[index] === 0) {\n          item[index] = '';\n          rows[mainIndex].children[index].textContent = item[index];\n        } else {\n          item[index] = digits[index];\n        }\n      }\n    });\n\n    for (let i = 0; i < game.length; i++) {\n      for (let j = 0; j < game[i].length; j++) {\n        rows[i].children[j].textContent = game[i][j];\n        rows[i].children[j].className = '';\n        rows[i].children[j].classList.add('field-cell');\n\n        if (game[i][j] !== '') {\n          rows[i].children[j].classList.add(`field-cell--${game[i][j]}`);\n        }\n      }\n    };\n  }\n\n  if (e.key === 'ArrowLeft') {\n    game.forEach((item, mainIndex, array) => {\n      const digits = item.map(element => {\n        if (element === '') {\n          return 0;\n        } else {\n          return element;\n        }\n      });\n\n      digits.sort((b, a) => {\n        if (a === 0 && b !== 0) {\n          splitCounter++;\n\n          return -1;\n        }\n\n        if (a !== 0 && b === 0) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      // Складываем числа если они одинаковы и выводим это на поле\n\n      for (let firstIndex = 0; firstIndex < digits.length - 1; firstIndex++) {\n        if (digits[firstIndex] === digits[firstIndex + 1]\n          && digits[firstIndex] !== 0) {\n          digits[firstIndex] += digits[firstIndex + 1];\n          gameScore += digits[firstIndex];\n          digits[firstIndex + 1] = 0;\n          splitCounter++;\n          rows[mainIndex].children[firstIndex].textContent = digits[firstIndex];\n        };\n\n        if (digits[firstIndex] === 0) {\n          digits[firstIndex] = digits[firstIndex + 1];\n          digits[firstIndex + 1] = 0;\n        };\n      }\n\n      for (let index = 0; index < item.length; index++) {\n        if (digits[index] === 0) {\n          item[index] = '';\n          rows[mainIndex].children[index].textContent = item[index];\n        } else {\n          item[index] = digits[index];\n        }\n      }\n    });\n\n    for (let i = 0; i < game.length; i++) {\n      for (let j = 0; j < game[i].length; j++) {\n        rows[i].children[j].textContent = game[i][j];\n        rows[i].children[j].className = '';\n        rows[i].children[j].classList.add('field-cell');\n\n        if (game[i][j] !== '') {\n          rows[i].children[j].classList.add(`field-cell--${game[i][j]}`);\n        }\n      }\n    };\n  }\n\n  if (e.key === 'ArrowDown') {\n    // перебираем все элементы массивов и заменяем все пустые строки нулями\n    game.forEach(item => {\n      for (let i = 0; i < item.length; i++) {\n        if (item[i] === '') {\n          item[i] = 0;\n        }\n      }\n    });\n\n    // сортируем все элементы в одном столбце\n\n    for (let i = 0; i < gameSize; i++) {\n      const tempArr = [];\n\n      for (let j = 0; j < game.length; j++) {\n        tempArr.push(game[j][i]);\n      };\n\n      tempArr.sort((a, b) => {\n        if (a === 0 && b !== 0) {\n          splitCounter++;\n\n          return -1;\n        }\n\n        if (a !== 0 && b === 0) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      for (let j = tempArr.length - 1; j > 0; j--) {\n        if (tempArr[j] === tempArr[j - 1] && tempArr[j] !== 0) {\n          tempArr[j] += tempArr[j];\n          gameScore += tempArr[j];\n          tempArr[j - 1] = 0;\n          splitCounter++;\n\n          tempArr.sort((a, b) => {\n            if (a === 0 && b !== 0) {\n              return -1;\n            }\n\n            if (a !== 0 && b === 0) {\n              return 1;\n            }\n\n            return 0;\n          });\n        }\n      }\n\n      for (let j = 0; j < game.length; j++) {\n        if (tempArr[j] === 0) {\n          game[j][i] = '';\n        } else {\n          game[j][i] = tempArr[j];\n        }\n      };\n\n      // Отрисовка поля перед добавлением новой цифры\n      for (let index = 0; index < game.length; index++) {\n        for (let j = 0; j < game[index].length; j++) {\n          rows[index].children[j].textContent = game[index][j];\n          rows[index].children[j].className = '';\n          rows[index].children[j].classList.add('field-cell');\n\n          if (game[index][j] !== '') {\n            rows[index].children[j]\n              .classList.add(`field-cell--${game[index][j]}`);\n          }\n        }\n      };\n    };\n  };\n\n  if (e.key === 'ArrowUp') {\n    // перебираем все элементы массивов и заменяем все пустые строки нулями\n    game.forEach(item => {\n      for (let i = 0; i < item.length; i++) {\n        if (item[i] === '') {\n          item[i] = 0;\n        }\n      }\n    });\n\n    // сортируем все элементы в одном столбце\n\n    for (let i = 0; i < gameSize; i++) {\n      const tempArr = [];\n\n      for (let j = 0; j < game.length; j++) {\n        tempArr.push(game[j][i]);\n      };\n\n      tempArr.sort((b, a) => {\n        if (a === 0 && b !== 0) {\n          splitCounter++;\n\n          return -1;\n        }\n\n        if (a !== 0 && b === 0) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      for (let j = tempArr.length - 1; j > 0; j--) {\n        if (tempArr[j] === tempArr[j - 1] && tempArr[j] !== 0) {\n          tempArr[j] += tempArr[j];\n          gameScore += tempArr[j];\n          tempArr[j - 1] = 0;\n          splitCounter++;\n\n          tempArr.sort((b, a) => {\n            if (a === 0 && b !== 0) {\n              return -1;\n            }\n\n            if (a !== 0 && b === 0) {\n              return 1;\n            }\n\n            return 0;\n          });\n        }\n      }\n\n      for (let j = 0; j < game.length; j++) {\n        if (tempArr[j] === 0) {\n          game[j][i] = '';\n        } else {\n          game[j][i] = tempArr[j];\n        }\n      };\n\n      // Отрисовка поля перед добавлением новой цифры\n\n      for (let index = 0; index < game.length; index++) {\n        for (let j = 0; j < game[index].length; j++) {\n          rows[index].children[j].textContent = game[index][j];\n          rows[index].children[j].className = '';\n          rows[index].children[j].classList.add('field-cell');\n\n          if (game[index][j] !== '') {\n            rows[index].children[j]\n              .classList.add(`field-cell--${game[index][j]}`);\n          }\n        }\n      };\n    };\n  };\n\n  if (splitCounter === 0) {\n    let checkEmpty = false;\n\n    for (let i = 0; i < game.length; i++) {\n      if (game[i].includes('')) {\n        checkEmpty = true;\n      }\n    };\n\n    if (!checkEmpty) {\n      let checkPosibility = false;\n\n      for (let i = 0; i < game.length; i++) {\n        for (let j = 0; j < game[i].length - 1; j++) {\n          if (game[i][j] === game[i][j + 1]) {\n            checkPosibility = true;\n          }\n        }\n      }\n\n      for (let i = 0; i < game.length - 1; i++) {\n        for (let j = 0; j < game[i].length; j++) {\n          if (game[i][j] === game[i + 1][j]) {\n            checkPosibility = true;\n          }\n        }\n      }\n\n      if (!checkPosibility) {\n        for (let index = 0; index < messages.length; index++) {\n          if (messages[index].classList.contains('message-win')) {\n            messages[index].classList.add('hidden');\n          }\n\n          if (messages[index].classList.contains('message-lose')) {\n            messages[index].classList.remove('hidden');\n          }\n        }\n      };\n    };\n  };\n\n  // добавляем 2 или 4 если произошли изменения\n\n  if (splitCounter > 0) {\n    while (game[tempRowIndex][tempColIndex] !== '') {\n      tempRowIndex = Math.floor(Math.random() * 4);\n      tempColIndex = Math.floor(Math.random() * 4);\n    };\n\n    game[tempRowIndex][tempColIndex] = Math.random() > 0.9 ? 4 : 2;\n\n    splitCounter = 0;\n\n    if (splitCounter === 0) {\n      let checkEmpty = false;\n\n      for (let i = 0; i < game.length; i++) {\n        if (game[i].includes('')) {\n          checkEmpty = true;\n        }\n      };\n\n      if (!checkEmpty) {\n        let checkPosibility = false;\n\n        for (let i = 0; i < game.length; i++) {\n          for (let j = 0; j < game[i].length - 1; j++) {\n            if (game[i][j] === game[i][j + 1]) {\n              checkPosibility = true;\n            }\n          }\n        };\n\n        for (let i = 0; i < game.length - 1; i++) {\n          for (let j = 0; j < game[i].length; j++) {\n            if (game[i][j] === game[i + 1][j]) {\n              checkPosibility = true;\n            }\n          }\n        };\n\n        if (!checkPosibility) {\n          for (let index = 0; index < messages.length; index++) {\n            if (messages[index].classList.contains('message-win')) {\n              messages[index].classList.add('hidden');\n            }\n\n            if (messages[index].classList.contains('message-lose')) {\n              messages[index].classList.remove('hidden');\n            }\n          }\n        };\n      };\n    };\n  };\n\n  gameScoreField.textContent = gameScore;\n\n  // Отрисовка поля после изменений\n\n  for (let i = 0; i < game.length; i++) {\n    for (let j = 0; j < game[i].length; j++) {\n      rows[i].children[j].textContent = game[i][j];\n\n      if (game[i][j] === 2048) {\n        for (let index = 0; index < messages.length; index++) {\n          if (messages[index].classList.contains('message-win')) {\n            messages[index].classList.remove('hidden');\n          }\n        }\n      };\n\n      if (game[i][j] !== '') {\n        rows[i].children[j].classList.add(`field-cell--${game[i][j]}`);\n      } else {\n        rows[i].children[j].className = '';\n        rows[i].children[j].classList.add('field-cell');\n      }\n    }\n  };\n\n  tempRowIndex = Math.floor(Math.random() * 4);\n  tempColIndex = Math.floor(Math.random() * 4);\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}